# --- Système / base ---
TZ=Europe/Paris
PUID=1000
PGID=1000

# Ports exposés (host:container)
ACTIVEPIECES_PORT=8080
NOCODB_PORT=8089
ORGANIZR_PORT=8081

# --- Postgres (unique pour tout le stack) ---
POSTGRES_USER=postgres
POSTGRES_PASSWORD=change-me
POSTGRES_DB=postgres        # base par défaut ; les apps utilisent leurs bases dédiées
NOCODB_DB=nocodb            # base dédiée NocoDB (créée via SQL d’init ci-dessus)

# --- Activepieces ---
AP_ENGINE_EXECUTABLE_PATH=dist/packages/engine/main.js

# Génère et remplis ces secrets (longs et sûrs) :
AP_API_KEY=
AP_ENCRYPTION_KEY=
AP_JWT_SECRET=

AP_ENVIRONMENT=prod
AP_FRONTEND_URL=http://localhost:${ACTIVEPIECES_PORT}
AP_WEBHOOK_TIMEOUT_SECONDS=30
AP_TRIGGER_DEFAULT_POLL_INTERVAL=5
AP_POSTGRES_DATABASE=activepieces
# AP_POSTGRES_HOST est forcé côté compose à "postgres"
AP_POSTGRES_PORT=5432
AP_POSTGRES_USERNAME=${POSTGRES_USER}
AP_POSTGRES_PASSWORD=${POSTGRES_PASSWORD}
AP_EXECUTION_MODE=UNSANDBOXED
AP_FLOW_TIMEOUT_SECONDS=600
AP_TELEMETRY_ENABLED=false
AP_TEMPLATES_SOURCE_URL=https://cloud.activepieces.com/api/v1/flow-templates
